{% extends 'amoo-jozve-foroosh/base.html' %}{% load semanticui %}{% load i18n %}

{% block body %}
<div class="ui text container" style="margin: 30px;">
    {% for error in errors %}
    <p>{{ error }}</p>
    {% endfor %}



    <form class="ui form segment" role="form" method="post" action="{% url 'profiles:login' %}">
        {% csrf_token %}
        {{ form|semanticui_form }}

        <input type="submit" class="ui blue button" value="{% trans 'Login' %}">
        <input type="hidden" name="next" value="{{ next }}">
        <div class="ui error message"></div>
    </form>

    {# Assumes you setup the password_reset view in your URLconf #}
    {# <p><a href="{% url 'password_reset' %}">Lost password?</a></p> #}
</div>
<script>

    // ready event
    readyV = function() {

        // selector cache
        var
            $form = $('.ui.form'),
            // alias
            handler
        ;

        // event handlers
        handler = {

        };


        $.fn.form.settings.defaults = {
            email: {
                identifier : 'email',
                rules: [
                    {
                        type   : 'empty',
                        prompt : 'ایمیل را وارد کنید'
                    },
                    {
                        type   : 'email',
                        prompt : 'یک ایمیل معتبر وارد کنید'
                    }
                ]
            },
            password: {
                identifier : 'password',
                rules: [
                    {
                        type   : 'empty',
                        prompt : 'گذرواژه را وارد کنید'
                    },
                    {
                        type   : 'length[4]',
                        prompt : 'گذرواژه حداقل باید دارای ۴ کاراکتر باشد'
                    }
                ]
            }
        };


        $form
            .form({
                inline : true,
                on: 'blur'
            })
        ;

    };
    // attach ready event
    $(document)
        .ready(readyV)
    ;
</script>
{% endblock %}